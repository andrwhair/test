<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tree Settings - FamilySearch</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            /* Zion UI Design System Colors */
            /* Gray Scale */
            --gray00: #FEFEFE;
            --gray02: #F5F6F6;
            --gray03: #EAECEC;
            --gray05: #DCDEDE;
            --gray10: #CACDCD;
            --gray20: #B5B8B9;
            --gray30: #9EA1A3;
            --gray40: #888C8E;
            --gray50: #75797B;
            --gray60: #64686A;
            --gray70: #535658;
            --gray80: #434547;
            --gray90: #333435;
            --gray100: #202121;

            /* Blue Scale */
            --blue02: #D8FCFF;
            --blue03: #BFF5FF;
            --blue05: #A7E9F8;
            --blue10: #8AD7ED;
            --blue20: #6AC3E0;
            --blue30: #46ACD0;
            --blue40: #2396BF;
            --blue50: #0482AB;
            --blue60: #056F94;
            --blue70: #145C7A;
            --blue80: #1A495F;
            --blue90: #1A3746;

            /* Green Scale */
            --green02: #F2F8DE;
            --green03: #E6F2AC;
            --green05: #D8E76D;
            --green10: #C4D72D;
            --green20: #A9C30A;
            --green30: #88AD1D;
            --green40: #6A992D;
            --green50: #508535;
            --green60: #3A7338;
            --green70: #276136;
            --green80: #1B4E2F;
            --green90: #163A26;

            /* Red Scale */
            --red02: #FCF4F5;
            --red03: #FCE6E9;
            --red05: #FED3DA;
            --red10: #FFBAC5;
            --red20: #FB9CAE;
            --red30: #F67896;
            --red40: #ED5481;
            --red50: #DF306E;
            --red60: #CA0D5E;
            --red70: #AB024E;
            --red80: #86123F;
            --red90: #621730;

            /* Yellow Scale */
            --yellow02: #FAF7DB;
            --yellow03: #F9EDA1;
            --yellow05: #FDDD47;
            --yellow10: #FFC400;
            --yellow20: #F9A519;
            --yellow30: #F87F09;
            --yellow40: #EA6108;
            --yellow50: #CE5012;
            --yellow60: #AF4619;
            --yellow70: #8F3D1C;
            --yellow80: #6F331C;
            --yellow90: #512919;

            /* Legacy aliases for compatibility */
            --white: #FFFFFF;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            background-color: var(--gray02);
            color: var(--gray90);
            line-height: 1.5;
        }

        /* Header Styles */
        .site-header {
            background-color: var(--white);
            border-bottom: 1px solid var(--gray05);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .top-nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 24px;
            border-bottom: 1px solid var(--gray05);
        }

        .nav-left {
            display: flex;
            align-items: center;
            gap: 32px;
        }

        .logo {
            height: 34px;
        }

        .nav-menu {
            display: flex;
            gap: 24px;
            list-style: none;
        }

        .nav-menu a {
            color: var(--gray90);
            text-decoration: none;
            font-size: 14px;
            font-weight: 500;
        }

        .nav-menu a:hover {
            color: var(--blue60);
        }

        .nav-right {
            display: flex;
            gap: 8px;
        }

        .icon-btn {
            background: none;
            border: none;
            padding: 8px;
            cursor: pointer;
            border-radius: 4px;
            color: var(--gray70);
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .icon-btn:hover {
            background-color: var(--blue02);
            color: var(--blue60);
        }

        .sub-nav {
            padding: 12px 24px;
        }

        .breadcrumb {
            display: flex;
            gap: 16px;
            align-items: center;
            font-size: 14px;
        }

        .breadcrumb-dropdown {
            background: none;
            border: none;
            color: var(--gray90);
            font-weight: 600;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 4px;
            padding: 4px 8px;
            border-radius: 4px;
        }

        .breadcrumb-dropdown:hover {
            background-color: var(--blue02);
        }

        .breadcrumb a {
            color: var(--gray70);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            color: var(--blue60);
        }

        /* Main Content */
        .container {
            max-width: 1070px;
            margin: 0 auto;
            padding: 24px;
        }

        .page-title {
            font-size: 32px;
            font-weight: 600;
            color: var(--gray90);
            margin-bottom: 32px;
        }

        .content-grid {
            display: grid;
            grid-template-columns: 220px 750px;
            gap: 24px;
        }

        /* Settings Sidebar */
        .settings-sidebar {
            background-color: transparent;
            border-radius: 8px;
            padding: 16px;
            height: fit-content;
        }

        .settings-section {
            margin-bottom: 24px;
        }

        .settings-section:last-child {
            margin-bottom: 0;
        }

        .section-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--gray60);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 8px;
            padding: 0 8px;
        }

        .settings-menu {
            list-style: none;
        }

        .settings-menu-item {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 10px 8px;
            border-radius: 4px;
            cursor: pointer;
            color: var(--gray90);
            text-decoration: none;
            font-size: 14px;
            transition: background-color 0.2s;
        }

        .settings-menu-item:hover {
            background-color: var(--gray10);
        }

        .settings-menu-item.active {
            background-color: var(--blue60);
            color: var(--white);
        }

        .settings-menu-item svg {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        .settings-menu-item.delete-option {
            color: var(--red50);
        }

        .settings-menu-item.delete-option:hover {
            background-color: #FFF5F5;
        }

        .settings-menu-item.delete-option.active {
            color: var(--white);
        }

        .settings-menu-item.delete-option.active:hover {
            background-color: var(--red50);
        }

        /* Collapsible Section */
        .collapsible-section {
            margin-top: 16px;
        }

        .collapsible-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 10px 8px;
            cursor: pointer;
            border-radius: 4px;
            transition: background-color 0.2s;
        }

        .collapsible-header:hover {
            background-color: var(--gray10);
        }

        .collapsible-title {
            font-size: 12px;
            font-weight: 600;
            color: var(--gray60);
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .chevron {
            transition: transform 0.2s;
        }

        .collapsible-section.expanded .chevron {
            transform: rotate(180deg);
        }

        .collapsible-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease-out;
        }

        .collapsible-section.expanded .collapsible-content {
            max-height: 500px;
        }

        /* Main Panel */
        .settings-panel {
            background-color: var(--white);
            border-radius: 8px;
            padding: 32px;
            box-shadow: 0 1px 3px rgba(0,0,0,0.1);
        }

        .panel-title {
            font-size: 24px;
            font-weight: 600;
            color: var(--gray90);
            margin-bottom: 24px;
        }

        .form-group {
            margin-bottom: 24px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--gray90);
            margin-bottom: 8px;
        }

        .form-input {
            width: 100%;
            padding: 10px 12px;
            border: 1px solid var(--gray30);
            border-radius: 4px;
            font-size: 14px;
            font-family: inherit;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--blue60);
            box-shadow: 0 0 0 3px rgba(5, 111, 148, 0.1);
        }

        textarea.form-input {
            resize: vertical;
            min-height: 100px;
        }

        .checkbox-group {
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .checkbox-group input[type="checkbox"] {
            margin-top: 2px;
            width: 18px;
            height: 18px;
            cursor: pointer;
        }

        .checkbox-label {
            font-size: 14px;
            color: var(--gray90);
            cursor: pointer;
        }

        .form-description {
            font-size: 13px;
            color: var(--gray60);
            margin-top: 4px;
        }

        /* Toggle Switch */
        .toggle-switch {
            position: relative;
            display: inline-block;
            width: 44px;
            height: 24px;
        }

        .toggle-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }

        .toggle-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: var(--gray30);
            transition: 0.3s;
            border-radius: 24px;
        }

        .toggle-slider:before {
            position: absolute;
            content: "";
            height: 18px;
            width: 18px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: 0.3s;
            border-radius: 50%;
        }

        .toggle-switch input:checked + .toggle-slider {
            background-color: var(--blue60);
        }

        .toggle-switch input:checked + .toggle-slider:before {
            transform: translateX(20px);
        }

        .toggle-switch input:focus + .toggle-slider {
            box-shadow: 0 0 0 3px rgba(5, 111, 148, 0.1);
        }

        .btn {
            padding: 12px 20px;
            border: none;
            border-radius: 6px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            display: inline-flex;
            align-items: center;
            gap: 8px;
        }

        .btn-primary {
            background-color: var(--blue60);
            color: var(--white);
        }

        .btn-primary:hover {
            background-color: var(--blue70);
        }

        .btn-primary:disabled {
            background-color: var(--gray20);
            color: var(--gray50);
            cursor: not-allowed;
        }

        .btn-danger {
            background-color: var(--red50);
            color: white;
        }

        .btn-danger:hover:not(:disabled) {
            background-color: var(--red60);
        }

        .btn-danger:disabled {
            background-color: var(--red20);
            color: var(--red50);
            cursor: not-allowed;
        }

        .btn-secondary {
            background-color: transparent;
            color: var(--gray90);
            border: 1px solid var(--gray20);
        }

        .btn-secondary:hover {
            background-color: var(--blue02);
            border-color: var(--blue20);
        }

        /* Member Action Dropdown */
        .member-actions {
            position: relative;
        }

        .member-dropdown {
            position: absolute;
            right: 0;
            top: 100%;
            background: white;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            min-width: 200px;
            display: none;
            z-index: 1000;
            margin-top: 4px;
        }

        .member-dropdown.show {
            display: block;
        }

        .member-dropdown-item {
            display: block;
            width: 100%;
            padding: 12px 16px;
            text-align: left;
            border: none;
            background: none;
            color: var(--gray90);
            font-size: 14px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .member-dropdown-item:hover {
            background: var(--gray02);
        }

        .member-dropdown-item:first-child {
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
        }

        .member-dropdown-item:last-child {
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
        }

        /* Info Card */
        .info-card {
            background-color: var(--gray02);
            border-left: 4px solid var(--blue60);
            padding: 16px;
            border-radius: 4px;
            margin-bottom: 24px;
        }

        .info-card-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray90);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .info-card-content {
            font-size: 14px;
            color: var(--gray70);
        }

        .user-info {
            display: flex;
            align-items: center;
            gap: 12px;
            padding: 12px;
            background-color: var(--gray02);
            border-radius: 4px;
            margin-bottom: 16px;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--green40);
            color: var(--white);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
        }

        .user-details {
            flex: 1;
        }

        .user-name {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray90);
        }

        .user-link {
            font-size: 13px;
            color: var(--blue60);
            text-decoration: none;
        }

        .user-link:hover {
            text-decoration: underline;
        }

        /* Content Panels */
        .content-panel {
            display: none;
        }

        .content-panel.active {
            display: block;
        }

        .panel-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 24px;
        }

        .panel-section {
            margin-bottom: 32px;
        }

        .panel-actions {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 20px;
        }

        /* Loading Overlay */
        .loading-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .loading-overlay.active {
            display: flex;
        }

        .spinner {
            width: 60px;
            height: 60px;
            border: 6px solid rgba(255, 255, 255, 0.3);
            border-top: 6px solid white;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .radio-group {
            margin: 16px 0;
        }

        .radio-option {
            display: flex;
            gap: 12px;
            padding: 16px;
            border: 2px solid var(--gray10);
            border-radius: 8px;
            margin-bottom: 12px;
            cursor: pointer;
            transition: all 0.2s;
            background-color: var(--white);
            position: relative;
        }

        .radio-option:hover {
            border-color: var(--blue20);
            background-color: var(--blue02);
        }

        .radio-option input[type="radio"] {
            position: absolute;
            opacity: 0;
            cursor: pointer;
        }

        .radio-option input[type="radio"]:checked ~ .radio-checkmark {
            background-color: var(--blue60);
            border-color: var(--blue60);
        }

        .radio-option input[type="radio"]:checked ~ .radio-checkmark:after {
            display: block;
        }

        .radio-option:has(input[type="radio"]:checked) {
            border-color: var(--blue60);
            background-color: var(--blue02);
            box-shadow: 0 0 0 1px var(--blue60);
        }

        .radio-checkmark {
            width: 20px;
            height: 20px;
            border: 2px solid var(--gray30);
            border-radius: 50%;
            flex-shrink: 0;
            margin-top: 2px;
            background-color: var(--white);
            position: relative;
            transition: all 0.2s;
        }

        .radio-checkmark:after {
            content: "";
            position: absolute;
            display: none;
            left: 5px;
            top: 2px;
            width: 4px;
            height: 8px;
            border: solid white;
            border-width: 0 2px 2px 0;
            transform: rotate(45deg);
        }

        .radio-option-content {
            flex: 1;
        }

        .radio-option-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--gray90);
            margin-bottom: 4px;
        }

        .radio-option-description {
            font-size: 13px;
            color: var(--gray60);
        }

        .file-upload-zone {
            border: 2px dashed var(--gray30);
            border-radius: 4px;
            padding: 32px;
            text-align: center;
            margin: 16px 0;
            cursor: pointer;
            transition: all 0.2s;
        }

        .file-upload-zone:hover {
            border-color: var(--blue60);
            background-color: var(--gray10);
        }

        .file-upload-icon {
            width: 48px;
            height: 48px;
            margin: 0 auto 16px;
            color: var(--gray50);
        }

        .file-upload-text {
            font-size: 14px;
            color: var(--gray90);
            margin-bottom: 8px;
        }

        .file-upload-hint {
            font-size: 12px;
            color: var(--gray60);
        }

        .warning-box {
            background-color: #FFF5F5;
            border-left: 4px solid var(--red50);
            padding: 16px;
            border-radius: 4px;
            margin: 16px 0;
        }

        .warning-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--red50);
            margin-bottom: 8px;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .warning-content {
            font-size: 14px;
            color: var(--gray70);
        }

        /* Status Overlay / Toast */
        .status-overlay {
            position: fixed;
            bottom: 24px;
            left: 50%;
            transform: translateX(-50%) translateY(100px);
            background-color: var(--gray90);
            color: white;
            padding: 16px 24px;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
            font-size: 15px;
            font-weight: 500;
            opacity: 0;
            transition: all 0.3s ease;
            z-index: 10000;
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .status-overlay.show {
            opacity: 1;
            transform: translateX(-50%) translateY(0);
        }

        .status-overlay-icon {
            width: 20px;
            height: 20px;
            flex-shrink: 0;
        }

        /* Delete Confirmation Modal */
        .delete-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 10000;
            align-items: center;
            justify-content: center;
        }

        .delete-modal.show {
            display: flex;
        }

        .delete-modal-content {
            background: white;
            border-radius: 8px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.2);
        }

        .delete-modal-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--gray90);
            margin-bottom: 16px;
        }

        .delete-modal-text {
            font-size: 14px;
            color: var(--gray70);
            line-height: 1.6;
            margin-bottom: 16px;
        }

        .delete-modal-actions {
            display: flex;
            gap: 12px;
            justify-content: flex-end;
            margin-top: 24px;
        }
    </style>
</head>
<body>
    <!-- Site Header -->
    <header class="site-header">
        <div class="top-nav">
            <div class="nav-left">
                <svg class="logo" width="132" height="34" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M23.558 28.29h1.54v-9.134h-1.54v-1.742h9.144v3.268h-2.021V19.39h-3.22v3.683h4.156v1.742h-4.156v3.476h1.689v1.742h-5.592V28.29zM56.277 28.28v-4.087c0-2.38-1.19-3.45-3.045-3.45-1.461 0-2.599.905-3.098 1.975H50.1c-.359-1.389-1.374-1.975-2.651-1.975-1.514 0-2.582 1.104-3.046 2.027v-.802c0-.639-.402-1.01-1.207-1.01h-2.398v1.743h1.024c.254 0 .394.12.394.37v6.944h3.605v-1.743h-1.313v-2.139c0-1.638.744-3.32 2.363-3.32 1.085 0 1.243.828 1.243 1.811v5.4h3.605V28.28H50.38v-2.26c0-1.673.779-3.217 2.346-3.217 1.067 0 1.26.785 1.26 1.811v5.4h3.623v-1.743h-1.33v.009zM40.482 28.29c-.254 0-.394-.121-.394-.389v-3.579c0-2.311-1.313-3.57-3.789-3.57-2.214 0-3.64 1.12-3.64 1.12l.848 1.562s1.226-.871 2.6-.871c.953 0 1.697.405 1.697 1.56v.303h-.577c-1.48 0-5.172.284-5.172 3.053 0 1.846 1.479 2.751 3.045 2.751a3.172 3.172 0 0 0 2.88-1.707v.534c0 .518.323.958 1.172.958h2.161V28.29h-.831zm-2.67-2.191c0 1.138-.883 2.45-2.126 2.45-.848 0-1.339-.57-1.339-1.243 0-1.371 2.18-1.509 3.08-1.509h.386v.302zM60.802 17.414h-2.293v2.01h2.293v-2.01zm0 10.867v-7.323h-3.71v1.743h1.426v7.322h3.605v-1.742h-1.321zM66.297 28.246c-.726-.017-.9-.44-.9-1.242v-9.59h-3.694v1.733h1.427v8.004c0 2.467 1.347 2.95 2.809 2.95h.831v-1.846h-.472v-.009zM79.914 25.96v.941c0 .82 1.05 1.294 2.258 1.294 1.295 0 2.223-.552 2.223-1.561 0-1.277-1.462-1.69-2.94-2.26-1.716-.638-3.387-1.406-3.387-3.657 0-2.536 2.091-3.519 4.288-3.519 2.021 0 4.06.759 4.06 2.217v1.647h-2.144v-.854c0-.638-.954-.974-1.908-.974-1.05 0-1.907.422-1.907 1.388 0 1.156 1.19 1.561 2.52 2.061 1.916.673 3.824 1.424 3.824 3.787 0 2.579-2.196 3.769-4.612 3.769-2.126 0-4.401-.94-4.401-2.838v-1.44h2.126zM130.67 28.281v-4.088c0-2.398-1.26-3.45-3.299-3.45a3.453 3.453 0 0 0-3.072 1.794v-5.14h-3.71v1.742h1.426v10.876h3.606v-1.743h-1.322v-2.415c0-1.664 1.015-3.053 2.634-3.053 1.155 0 1.444.742 1.444 1.846v5.365H132v-1.743h-1.33v.009zM108.941 26.366c0-1.707.831-3.303 2.687-3.303h.56v-2.225h-.42c-1.409 0-2.503 1.035-2.923 2.328v-1.104c0-.759-.412-1.104-1.225-1.104h-2.398v1.743h1.024c.254 0 .402.138.402.388v6.934h3.606V28.29h-1.322v-1.924h.009zM104.915 28.29c-.253 0-.393-.121-.393-.389v-3.579c0-2.311-1.313-3.57-3.79-3.57-2.213 0-3.64 1.12-3.64 1.12l.849 1.562s1.225-.871 2.599-.871c.954 0 1.698.405 1.698 1.56v.303h-.578c-1.479 0-5.18.284-5.18 3.053 0 1.846 1.478 2.751 3.045 2.751a3.205 3.205 0 0 0 2.888-1.707v.534c0 .518.323.958 1.172.958h2.162V28.29h-.832zm-2.669-2.191c0 1.138-.883 2.45-2.126 2.45-.849 0-1.33-.57-1.33-1.243 0-1.371 2.179-1.509 3.08-1.509h.376v.302zM94.843 27.608a4.412 4.412 0 0 1-2.441.742c-1.392 0-2.617-.854-2.766-2.174h6.537v-.612c0-5.071-4.209-4.813-4.209-4.813-2.765 0-4.673 1.958-4.673 4.753 0 2.579 1.899 4.752 4.944 4.752 2.004 0 3.194-.82 3.475-1.035l-.867-1.613zm-2.923-5.02c1.164 0 1.987.69 2.214 1.855h-4.428c.228-1.164 1.05-1.854 2.214-1.854z" fill="#85B940"/><path d="M120.247 27.393c-.56.396-1.514.94-2.651.94-1.567 0-2.888-1.01-2.888-2.881 0-1.656 1.033-2.786 2.704-2.786.779 0 1.715.285 1.715.889v.603h1.978v-1.242c0-1.604-2.232-2.165-3.772-2.165-2.826 0-4.935 2.062-4.935 4.761 0 2.933 2.38 4.727 5.067 4.727 1.61 0 2.949-.69 3.64-1.26l-.858-1.586zM70.822 22.7V20.96h-4.525V22.7h1.12l3.133 7.572c-.507 1.285-1.216 1.674-1.837 1.69a2.462 2.462 0 0 1-.998-.223v1.914c.324.086.7.147 1.138.147 1.566 0 2.879-.82 3.579-2.613l3.37-8.496h1.067V20.95h-4.34v1.742h1.04l-1.89 5.227-1.89-5.227" fill="#85B940"/><path d="M11.796 27.246c1.68-1.087 2.984-2.682 3.527-4.864h-.936c-.587 1.586-1.742 2.578-3.203 3.113a14.778 14.778 0 0 1-.57-4.105c0-3.062.92-5.908 2.504-8.289h-1.934a16.244 16.244 0 0 0-2.95 7.21c-1.076-.663-1.925-1.509-2.423-2.889H4.787c.586 2.14 1.724 3.614 3.273 4.77 0 .164-.01.328-.01.491 0 4.183 1.585 8.004 4.193 10.91h4.62a15.3 15.3 0 0 1-5.067-6.347z" fill="#9B947A"/><path d="M17.222 13.843h7.7v-7.59h-7.7v7.59zm5.89-1.785h-4.079v-4.02h4.078v4.02zM12.689 23.227h8.156v-8.039h-8.156v8.039zm6.345-1.794H14.5v-4.468h4.533v4.468z" fill="#BAB7B1"/><path d="M9.512 13.843h6.345V7.59H9.512v6.253zm4.989-1.337h-3.623v-3.57H14.5v3.57z" fill="#9B947A"/><path d="M3.168 8.935h4.988V4.02H3.168v4.916zM6.8 7.59H4.533V5.356H6.8V7.59z" fill="#BAB7B1"/><path d="M9.512 6.253h6.345V0H9.512v6.253zm4.989-1.337h-3.623v-3.58H14.5v3.58zM0 18.31h8.156v-8.038H0v8.039zm6.344-1.785H1.811v-4.467h4.533v4.467z" fill="#85B940"/></svg>
                <ul class="nav-menu">
                    <li><a href="#">Family Tree</a></li>
                    <li><a href="#">Search</a></li>
                    <li><a href="#">Memories</a></li>
                    <li><a href="#">Get Involved</a></li>
                    <li><a href="#">Activities</a></li>
                </ul>
            </div>
            <div class="nav-right">
                <button class="icon-btn" title="Help">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75l-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"/></svg>
                </button>
                <button class="icon-btn" title="Messages">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M20 2H4c-1.1 0-1.99.9-1.99 2L2 22l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-2 12H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/></svg>
                </button>
                <button class="icon-btn" title="Notifications">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 22c1.1 0 2-.9 2-2h-4c0 1.1.89 2 2 2zm6-6v-5c0-3.07-1.64-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.63 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2z"/></svg>
                </button>
                <button class="icon-btn" title="Account">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                </button>
            </div>
        </div>

        <div class="sub-nav">
            <div class="breadcrumb">
                <button class="breadcrumb-dropdown">
                    FamilySearch Tree
                    <svg width="16" height="16" viewBox="0 0 24 24" fill="currentColor" style="transform: rotate(90deg);"><path d="M10 6L8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"/></svg>
                </button>
                <a href="#">Tree</a>
                <a href="#">Recents</a>
                <a href="#">Find</a>
                <a href="#">Following</a>
                <a href="#">Person List</a>
                <a href="#">My Contributions</a>
                <a href="manage-trees.html" style="font-weight: 600; color: var(--gray90);">Manage Trees</a>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <div class="container">
        <h1 class="page-title">Tree Settings</h1>

        <div class="content-grid">
        <!-- Settings Sidebar -->
        <aside class="settings-sidebar">
            <div class="settings-section">
                <ul class="settings-menu">
                    <li>
                        <a href="#" class="settings-menu-item active" onclick="showPanel('treeDetails'); return false;">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M19.14,12.94c0.04-0.3,0.06-0.61,0.06-0.94c0-0.32-0.02-0.64-0.07-0.94l2.03-1.58c0.18-0.14,0.23-0.41,0.12-0.61 l-1.92-3.32c-0.12-0.22-0.37-0.29-0.59-0.22l-2.39,0.96c-0.5-0.38-1.03-0.7-1.62-0.94L14.4,2.81c-0.04-0.24-0.24-0.41-0.48-0.41 h-3.84c-0.24,0-0.43,0.17-0.47,0.41L9.25,5.35C8.66,5.59,8.12,5.92,7.63,6.29L5.24,5.33c-0.22-0.08-0.47,0-0.59,0.22L2.74,8.87 C2.62,9.08,2.66,9.34,2.86,9.48l2.03,1.58C4.84,11.36,4.8,11.69,4.8,12s0.02,0.64,0.07,0.94l-2.03,1.58 c-0.18,0.14-0.23,0.41-0.12,0.61l1.92,3.32c0.12,0.22,0.37,0.29,0.59,0.22l2.39-0.96c0.5,0.38,1.03,0.7,1.62,0.94l0.36,2.54 c0.05,0.24,0.24,0.41,0.48,0.41h3.84c0.24,0,0.44-0.17,0.47-0.41l0.36-2.54c0.59-0.24,1.13-0.56,1.62-0.94l2.39,0.96 c0.22,0.08,0.47,0,0.59-0.22l1.92-3.32c0.12-0.22,0.07-0.47-0.12-0.61L19.14,12.94z M12,15.6c-1.98,0-3.6-1.62-3.6-3.6 s1.62-3.6,3.6-3.6s3.6,1.62,3.6,3.6S13.98,15.6,12,15.6z"/></svg>
                            Tree Details
                        </a>
                    </li>
                    <li>
                        <a href="#" class="settings-menu-item" onclick="showPanel('recentChanges'); return false;">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.28 2.54.72-1.21-3.5-2.08V8H12z"/></svg>
                            Recent Changes
                        </a>
                    </li>
                    <li>
                        <a href="#" class="settings-menu-item" onclick="showPanel('updateGedcom'); return false;">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/></svg>
                            Re-upload Gedcom
                        </a>
                    </li>
                    <li>
                        <a href="#" class="settings-menu-item" onclick="showPanel('privacy'); return false;">
                            <svg viewBox="0 0 24 24" fill="currentColor"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                            Sharing and Permissions
                        </a>
                    </li>
                </ul>
            </div>
        </aside>

        <!-- Settings Panel -->
        <main class="settings-panel">
            <!-- Tree Details Panel (Default) -->
            <div id="treeDetails" class="content-panel active">
                <h2 class="panel-title">Tree Details</h2>

                <div class="info-card">
                    <div class="info-card-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"/></svg>
                        About This Tree
                    </div>
                    <div class="info-card-content">
                        This tree contains <strong>1,247 individuals</strong>. It was originally imported from a GEDCOM file on June 15, 2023.
                    </div>
                </div>

                <form>
                    <div class="form-group">
                        <label class="form-label" for="tree-name">Tree Name</label>
                        <input type="text" id="tree-name" class="form-input" value="House of Windsor" />
                    </div>

                    <div class="form-group">
                        <label class="form-label" for="tree-description">Tree Description</label>
                        <textarea id="tree-description" class="form-input" placeholder="Add a description for your tree..."></textarea>
                        <p class="form-description">Help others understand what makes this tree unique.</p>
                        <button type="button" id="tree-details-save-btn" class="btn btn-primary" style="margin-top: 12px;" disabled>Save</button>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Home Person in This Tree</label>
                        <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: var(--gray02); border-radius: 8px;">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; overflow: hidden;">
                                    <img src="../person-page/female.png" style="width: 100%; height: 100%; object-fit: cover;" alt="Doris Jane Lewis">
                                </div>
                                <div>
                                    <div style="font-size: 15px; font-weight: 500; color: var(--gray90);">Doris Jane Lewis</div>
                                    <div style="font-size: 13px; color: var(--gray70);">1891–1963 • 9H6X-Z48</div>
                                </div>
                            </div>
                            <a href="#" style="color: var(--blue60); font-size: 14px; font-weight: 500; text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px;">Change</a>
                        </div>
                    </div>

                    <div class="form-group">
                        <label class="form-label">Preferred Tree</label>
                        <div style="display: flex; align-items: center; padding: 16px; background: var(--gray02); border-radius: 8px; gap: 16px;">
                            <label class="toggle-switch" style="flex-shrink: 0;">
                                <input type="checkbox" id="preferred-tree" />
                                <span class="toggle-slider"></span>
                            </label>
                            <div style="font-size: 14px; color: var(--gray90);">
                                Set the House of Windsor tree as your preferred tree.
                            </div>
                        </div>
                    </div>
                </form>

                <!-- Delete Tree Section -->
                <div style="margin-top: 48px; padding-top: 32px;">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 12px; color: var(--gray90);">Delete Tree</h3>
                    
                    <p style="font-size: 14px; color: var(--gray70); margin-bottom: 16px; line-height: 1.5;">
                        Delete all people, photos, stories, etc. in your tree. If you want to update people in this tree, <a href="#updateGedcom" onclick="showPanel('updateGedcom'); return false;" style="color: var(--blue60); text-decoration: none;">re-upload your gedcom</a>. You can also sync using <a href="#" style="color: var(--blue60); text-decoration: none;">Ancestral Quest</a> or <a href="#" style="color: var(--blue60); text-decoration: none;">Rootsmagic</a> software.
                    </p>

                    <div style="display: flex; align-items: start; gap: 12px; padding: 12px 16px; background: var(--gray02); border-radius: 8px; margin-bottom: 16px;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--red50)" style="flex-shrink: 0; margin-top: 2px;"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
                        <div style="font-size: 14px; color: var(--gray90);">
                            <strong>Warning!</strong> This action cannot be undone!
                        </div>
                    </div>

                    <a href="#" style="color: var(--red50); font-size: 14px; font-weight: 500; text-decoration: none;" onclick="showDeleteModal(); return false;">Delete your tree</a>
                </div>
            </div>

            <!-- Recent Changes Panel -->
            <div id="recentChanges" class="content-panel">
                <h2 class="panel-title">Latest Changes</h2>

                <div style="display: grid; gap: 1px; background: var(--gray10); border: 1px solid var(--gray10); border-radius: 8px; overflow: hidden;">
                    <!-- Change Item 1 -->
                    <div style="display: grid; grid-template-columns: 48px 200px 1fr 200px; gap: 16px; padding: 20px; background: white; align-items: start;">
                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; color: var(--gray90); font-weight: 600; font-size: 16px;">D</div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 4px;">Daniel W Johnson</div>
                            <div style="font-size: 13px; color: var(--gray70);">1960–Living • GTXQ-HBX</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 8px;">Name Updated</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">CHANGED</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 8px;">Daniel W Johnson</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">PREVIOUS</div>
                            <div style="font-size: 14px; color: var(--gray90);">Daniel W Johnson (Twin)</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 4px;">January 16, 2026</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 8px; display: flex; align-items: center; gap: 4px; justify-content: flex-end;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                                RyanLewis
                            </div>
                            <a href="#" style="color: var(--blue60); font-size: 14px; font-weight: 500; text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px;">VIEW CHANGE</a>
                        </div>
                    </div>

                    <!-- Change Item 2 -->
                    <div style="display: grid; grid-template-columns: 48px 200px 1fr 200px; gap: 16px; padding: 20px; background: white; align-items: start;">
                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; color: var(--gray90); font-weight: 600; font-size: 16px;">D</div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 4px;">Daniel W Johnson</div>
                            <div style="font-size: 13px; color: var(--gray70);">1960–Living • GTXQ-HBX</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 8px;">Name Updated</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">CHANGED</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 8px;">Daniel W Johnson (Twin)</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">PREVIOUS</div>
                            <div style="font-size: 14px; color: var(--gray90);">Daniel W. Johnson (Twin)</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 4px;">January 16, 2026</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 8px; display: flex; align-items: center; gap: 4px; justify-content: flex-end;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                                RyanLewis
                            </div>
                            <a href="#" style="color: var(--blue60); font-size: 14px; font-weight: 500; text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px;">VIEW CHANGE</a>
                        </div>
                    </div>

                    <!-- Change Item 3 -->
                    <div style="display: grid; grid-template-columns: 48px 200px 1fr 200px; gap: 16px; padding: 20px; background: white; align-items: start;">
                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; color: var(--gray90); font-weight: 600; font-size: 16px;">P</div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 4px;">Peter Gottfried Hoem...</div>
                            <div style="font-size: 13px; color: var(--gray70);">1935–2019 • GTXQ-WKD</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 8px;">Residence Updated</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">CHANGED</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 2px;">1940</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 8px;">Queens, New York City, New York, United States</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">PREVIOUS</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 2px;">1940</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 4px;">Assembly District 6, Queens, New York City, Queens, New York, United States</div>
                            <div style="font-size: 13px; color: var(--red50); font-weight: 500;">Non-standardized Place</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 4px;">December 4, 2025</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 8px; display: flex; align-items: center; gap: 4px; justify-content: flex-end;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                                RyanLewis
                            </div>
                            <a href="#" style="color: var(--blue60); font-size: 14px; font-weight: 500; text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px;">VIEW CHANGE</a>
                        </div>
                    </div>

                    <!-- Change Item 4 -->
                    <div style="display: grid; grid-template-columns: 48px 200px 1fr 200px; gap: 16px; padding: 20px; background: white; align-items: start;">
                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; color: var(--gray90); font-weight: 600; font-size: 16px;">M</div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 4px;">Mary Magdalene Well...</div>
                            <div style="font-size: 13px; color: var(--gray70);">1933–2022 • GTXQ-7VY</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 8px;">Death Added</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 2px;">October 2022</div>
                            <div style="font-size: 14px; color: var(--gray90);">Orem, Utah, Utah, United States</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 4px;">July 9, 2024</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 8px; display: flex; align-items: center; gap: 4px; justify-content: flex-end;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                                RyanLewis
                            </div>
                            <a href="#" style="color: var(--blue60); font-size: 14px; font-weight: 500; text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px;">VIEW CHANGE</a>
                        </div>
                    </div>

                    <!-- Change Item 5 -->
                    <div style="display: grid; grid-template-columns: 48px 200px 1fr 200px; gap: 16px; padding: 20px; background: white; align-items: start;">
                        <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; color: var(--gray90); font-weight: 600; font-size: 16px;">H</div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 4px;">Henry Lewis</div>
                            <div style="font-size: 13px; color: var(--gray70);">1866–1947 • GTX7-7RW</div>
                        </div>
                        <div>
                            <div style="font-weight: 600; font-size: 15px; color: var(--gray90); margin-bottom: 8px;">Burial Updated</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">CHANGED</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 2px;">19 MAY 1947</div>
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 8px;">Elysian Burial Gardens, Millcreek, Salt Lake, Utah, United States</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 4px;">PREVIOUS</div>
                            <div style="font-size: 14px; color: var(--gray90);">19 MAY 1947</div>
                        </div>
                        <div style="text-align: right;">
                            <div style="font-size: 14px; color: var(--gray90); margin-bottom: 4px;">July 9, 2024</div>
                            <div style="font-size: 13px; color: var(--gray70); margin-bottom: 8px; display: flex; align-items: center; gap: 4px; justify-content: flex-end;">
                                <svg width="14" height="14" viewBox="0 0 24 24" fill="currentColor"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                                RyanLewis
                            </div>
                            <a href="#" style="color: var(--blue60); font-size: 14px; font-weight: 500; text-decoration: none; text-transform: uppercase; letter-spacing: 0.5px;">VIEW CHANGE</a>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Re-upload GEDCOM Panel -->
            <div id="updateGedcom" class="content-panel">
                <h2 class="panel-title">Re-upload Gedcom</h2>
                
                <p style="margin-bottom: 24px;">Upload a GEDCOM file to update your tree with new information.</p>

                <div class="file-upload-zone" id="upload-zone" onclick="simulateFileUpload()">
                    <svg class="file-upload-icon" viewBox="0 0 24 24" fill="currentColor"><path d="M9 16h6v-6h4l-7-7-7 7h4zm-4 2h14v2H5z"/></svg>
                    <div class="file-upload-text">Click to upload or drag and drop</div>
                    <div class="file-upload-hint">GEDCOM (.ged) files only</div>
                </div>

                <div class="panel-actions" style="justify-content: flex-start;">
                    <button class="btn btn-primary" id="upload-continue-btn" onclick="showMergePreview()" disabled>Continue</button>
                </div>
            </div>

            <!-- Merge Preview Panel -->
            <div id="mergePreview" class="content-panel">
                <h2 class="panel-title">Review Changes</h2>
                
                <p style="margin-bottom: 20px; color: var(--gray70);">Review the changes that will be made to your tree. You can expand each section to see details.</p>
                
                <!-- Summary Stats -->
                <div style="display: flex; gap: 16px; margin-bottom: 24px;">
                    <div style="flex: 1; padding: 16px; background: #E8F5E9; border-radius: 8px;">
                        <div style="font-size: 28px; font-weight: 600; color: var(--gray90); margin-bottom: 4px;">47</div>
                        <div style="font-size: 13px; color: var(--gray70);">People Added</div>
                    </div>
                    <div style="flex: 1; padding: 16px; background: #FFF3E0; border-radius: 8px;">
                        <div style="font-size: 28px; font-weight: 600; color: var(--gray90); margin-bottom: 4px;">128</div>
                        <div style="font-size: 13px; color: var(--gray70);">People Updated</div>
                    </div>
                    <div style="flex: 1; padding: 16px; background: #FFEBEE; border-radius: 8px;">
                        <div style="font-size: 28px; font-weight: 600; color: var(--gray90); margin-bottom: 4px;">3</div>
                        <div style="font-size: 13px; color: var(--gray70);">People Removed</div>
                    </div>
                </div>

                <!-- Changes List -->
                <div style="max-height: 400px; overflow-y: auto; border: 1px solid var(--gray20); border-radius: 8px;">
                    <!-- Added People -->
                    <div style="border-bottom: 1px solid var(--gray20);">
                        <div style="padding: 12px 16px; background: #F9FFF9; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" onclick="toggleDiffSection(this)">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--green50)"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"/></svg>
                                <span style="font-weight: 600; color: var(--gray90);">47 People Added</span>
                            </div>
                            <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
                        </div>
                        <div class="diff-content" style="display: none; padding: 16px; background: white;">
                            <div style="padding: 8px 12px; margin-bottom: 8px; background: #F5F5F5; border-radius: 4px; border-left: 3px solid var(--green50);">
                                <div style="font-weight: 500; color: var(--gray90);">James Robert Windsor</div>
                                <div style="font-size: 13px; color: var(--gray70); margin-top: 2px;">Born: 1985 • New person</div>
                            </div>
                            <div style="padding: 8px 12px; margin-bottom: 8px; background: #F5F5F5; border-radius: 4px; border-left: 3px solid var(--green50);">
                                <div style="font-weight: 500; color: var(--gray90);">Catherine Elizabeth Windsor</div>
                                <div style="font-size: 13px; color: var(--gray70); margin-top: 2px;">Born: 1988 • New person</div>
                            </div>
                            <div style="padding: 8px; color: var(--gray60); font-size: 13px; text-align: center;">+ 45 more people</div>
                        </div>
                    </div>

                    <!-- Updated People -->
                    <div style="border-bottom: 1px solid var(--gray20);">
                        <div style="padding: 12px 16px; background: #FFFBF0; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" onclick="toggleDiffSection(this)">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--orange40)"><path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/></svg>
                                <span style="font-weight: 600; color: var(--gray90);">128 People Updated</span>
                            </div>
                            <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
                        </div>
                        <div class="diff-content" style="display: none; padding: 16px; background: white;">
                            <div style="padding: 8px 12px; margin-bottom: 8px; background: #F5F5F5; border-radius: 4px; border-left: 3px solid var(--orange40);">
                                <div style="font-weight: 500; color: var(--gray90);">Prince William Windsor</div>
                                <div style="font-size: 13px; color: var(--gray70); margin-top: 4px;">
                                    <div>Birth date: <span style="text-decoration: line-through; color: var(--red50);">June 21, 1982</span> → <span style="color: var(--green50);">June 21, 1982</span></div>
                                    <div>Birth place: <span style="color: var(--green50);">Added: London, England</span></div>
                                </div>
                            </div>
                            <div style="padding: 8px 12px; margin-bottom: 8px; background: #F5F5F5; border-radius: 4px; border-left: 3px solid var(--orange40);">
                                <div style="font-weight: 500; color: var(--gray90);">Prince Harry Windsor</div>
                                <div style="font-size: 13px; color: var(--gray70); margin-top: 4px;">
                                    <div>Occupation: <span style="color: var(--green50);">Added: Military Officer</span></div>
                                </div>
                            </div>
                            <div style="padding: 8px 12px; margin-bottom: 8px; background: #F5F5F5; border-radius: 4px; border-left: 3px solid var(--orange40);">
                                <div style="font-weight: 500; color: var(--gray90);">Catherine Elizabeth Middleton</div>
                                <div style="font-size: 13px; color: var(--gray70); margin-top: 4px;">
                                    <div>Relationship: <span style="text-decoration: line-through; color: var(--red50);">Partner of Prince William Windsor</span> → <span style="color: var(--green50);">Spouse of Prince William Windsor</span></div>
                                    <div>Marriage date: <span style="color: var(--green50);">Added: April 29, 2011</span></div>
                                </div>
                            </div>
                            <div style="padding: 8px 12px; margin-bottom: 8px; background: #F5F5F5; border-radius: 4px; border-left: 3px solid var(--orange40);">
                                <div style="font-weight: 500; color: var(--gray90);">Prince William Windsor</div>
                                <div style="font-size: 13px; color: var(--gray70); margin-top: 4px;">
                                    <div>Mother: <span style="text-decoration: line-through; color: var(--red50);">Elizabeth Mary Spencer</span> → <span style="color: var(--green50);">Diana Frances Spencer</span></div>
                                </div>
                            </div>
                            <div style="padding: 8px; color: var(--gray60); font-size: 13px; text-align: center;">+ 124 more updates</div>
                        </div>
                    </div>

                    <!-- Removed People -->
                    <div>
                        <div style="padding: 12px 16px; background: #FFF5F5; cursor: pointer; display: flex; justify-content: space-between; align-items: center;" onclick="toggleDiffSection(this)">
                            <div style="display: flex; align-items: center; gap: 8px;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--red50)"><path d="M19 13H5v-2h14v2z"/></svg>
                                <span style="font-weight: 600; color: var(--gray90);">3 People Removed</span>
                            </div>
                            <svg class="chevron" width="16" height="16" viewBox="0 0 24 24" fill="currentColor"><path d="M7 10l5 5 5-5z"/></svg>
                        </div>
                        <div class="diff-content" style="display: none; padding: 16px; background: white;">
                            <div style="padding: 8px 12px; margin-bottom: 8px; background: #F5F5F5; border-radius: 4px; border-left: 3px solid var(--red50);">
                                <div style="font-weight: 500; color: var(--gray90); text-decoration: line-through;">John Duplicate Entry</div>
                                <div style="font-size: 13px; color: var(--gray70); margin-top: 2px;">Duplicate person - will be merged</div>
                            </div>
                            <div style="padding: 8px; color: var(--gray60); font-size: 13px; text-align: center;">+ 2 more removals</div>
                        </div>
                    </div>
                </div>

                <div class="panel-actions" style="justify-content: flex-start;">
                    <button class="btn btn-secondary" onclick="showPanel('updateGedcom')">Back</button>
                    <button class="btn btn-primary">Apply Changes</button>
                </div>
            </div>

            <!-- Starting Person Panel -->
            <div id="startingPerson" class="content-panel">
                <h2 class="panel-title">Starting Person</h2>
                
                <p style="font-size: 15px; color: var(--gray90); line-height: 1.6; margin-bottom: 20px;">
                    This starting person is used for everyone in the CET.
                </p>
                <div style="display: flex; align-items: center; gap: 12px; padding: 12px; background: var(--gray10); border-radius: 8px; margin-bottom: 16px;">
                    <div style="width: 48px; height: 48px; border-radius: 50%; background: var(--blue60); display: flex; align-items: center; justify-content: center; color: white; font-weight: 600; font-size: 16px; flex-shrink: 0;">MM</div>
                    <div style="flex: 1;">
                        <div style="font-size: 15px; font-weight: 600; color: var(--gray90); margin-bottom: 2px;">Mary Magdalene Weller</div>
                        <div style="font-size: 13px; color: var(--gray70);">1933–2022 • GTXQ-7YV</div>
                    </div>
                </div>
                <a href="#" style="color: var(--blue60); text-decoration: none; font-size: 14px; font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;">Change</a>
            </div>

            <!-- Sharing and Permissions Panel -->
            <div id="privacy" class="content-panel">
                <h2 class="panel-title">Sharing and Permissions</h2>
                
                <div style="display: flex; gap: 16px;">
                    <label class="radio-option" style="flex: 1;">
                        <input type="radio" name="privacy-setting" value="public" checked />
                        <span class="radio-checkmark"></span>
                        <div class="radio-option-content">
                            <div class="radio-option-title">Public Tree</div>
                            <div class="radio-option-description">All FamilySearch users can view the deceased individuals in this tree. They will not see living individuals nor be able to change any data in the tree.</div>
                        </div>
                    </label>

                    <label class="radio-option" style="flex: 1;">
                        <input type="radio" name="privacy-setting" value="private" />
                        <span class="radio-checkmark"></span>
                        <div class="radio-option-content">
                            <div class="radio-option-title">Private Tree</div>
                            <div class="radio-option-description">Only you and your invited contributors can view this tree. However, our AI will be able to use information from this tree to improve the quality of other trees.</div>
                        </div>
                    </label>
                </div>

                <div class="panel-actions" style="justify-content: flex-start;">
                    <button id="privacy-save-btn" class="btn btn-primary" disabled>Save</button>
                </div>

                <!-- Members Section -->
                <div style="margin-top: 32px; padding-top: 24px;">
                    <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 24px; color: var(--gray90);">Manage Members</h3>

                    <!-- Owner Section -->
                    <div style="margin-bottom: 24px; padding: 20px; background: var(--gray02); border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--gray70)"><path d="M12 1L3 5v6c0 5.55 3.84 10.74 9 12 5.16-1.26 9-6.45 9-12V5l-9-4z"/></svg>
                            <div style="font-size: 14px; font-weight: 600; color: var(--gray70);">Owner</div>
                        </div>
                        <div style="font-size: 13px; color: var(--gray60); margin-bottom: 16px;">The owner created and manages this tree.</div>

                        <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: var(--white); border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; overflow: hidden;">
                                    <img src="../person-page/male.png" style="width: 100%; height: 100%; object-fit: cover;" alt="Robert Kehrer">
                                </div>
                                <div>
                                    <div style="font-size: 15px; font-weight: 500; color: var(--gray90);">Robert Kehrer</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Co-Owners Section -->
                    <div style="margin-bottom: 24px; padding: 20px; background: var(--gray02); border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--gray70)"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
                            <div style="font-size: 14px; font-weight: 600; color: var(--gray70);">Co-Owners</div>
                        </div>
                        <div style="font-size: 13px; color: var(--gray60); margin-bottom: 16px;">Co-Owners can invite others to this tree, change the starting person, and make edits.</div>

                        <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: var(--white); border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; overflow: hidden;">
                                    <img src="../person-page/female.png" style="width: 100%; height: 100%; object-fit: cover;" alt="Kim Kehrer">
                                </div>
                                <div>
                                    <div style="font-size: 15px; font-weight: 500; color: var(--gray90);">Kim Kehrer</div>
                                </div>
                            </div>
                            <div class="member-actions">
                                <button class="member-menu-btn" onclick="toggleMemberMenu(event, 'kim-menu')" style="background: none; border: none; cursor: pointer; padding: 8px; color: var(--gray60);">
                                    <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                </button>
                                <div id="kim-menu" class="member-dropdown">
                                    <button class="member-dropdown-item">Remove as a Co-Owner</button>
                                    <button class="member-dropdown-item">Remove Kim Kehrer</button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Contributors Section -->
                    <div style="margin-bottom: 24px; padding: 20px; background: var(--gray02); border-radius: 8px;">
                        <div style="display: flex; align-items: center; gap: 8px; margin-bottom: 8px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="var(--gray70)"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                            <div style="font-size: 14px; font-weight: 600; color: var(--gray70);">Contributors</div>
                        </div>
                        <div style="font-size: 13px; color: var(--gray60); margin-bottom: 16px;">Contributors can view and edit all data.</div>

                        <div style="display: flex; flex-direction: column; gap: 8px;">
                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: var(--white); border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; color: var(--gray90); font-weight: 600; font-size: 16px;">S</div>
                                    <div>
                                        <div style="font-size: 15px; font-weight: 500; color: var(--gray90);">SierraKehrer</div>
                                    </div>
                                </div>
                                <div class="member-actions">
                                    <button class="member-menu-btn" onclick="toggleMemberMenu(event, 'sierra-menu')" style="background: none; border: none; cursor: pointer; padding: 8px; color: var(--gray60);">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                    </button>
                                    <div id="sierra-menu" class="member-dropdown">
                                        <button class="member-dropdown-item">Assign as a Co-Owner</button>
                                        <button class="member-dropdown-item">Remove SierraKehrer</button>
                                    </div>
                                </div>
                            </div>

                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: var(--white); border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; overflow: hidden;">
                                        <img src="../person-page/male.png" style="width: 100%; height: 100%; object-fit: cover;" alt="Jim Mosher">
                                    </div>
                                    <div>
                                        <div style="font-size: 15px; font-weight: 500; color: var(--gray90);">Jim Mosher</div>
                                    </div>
                                </div>
                                <div class="member-actions">
                                    <button class="member-menu-btn" onclick="toggleMemberMenu(event, 'jim-menu')" style="background: none; border: none; cursor: pointer; padding: 8px; color: var(--gray60);">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                    </button>
                                    <div id="jim-menu" class="member-dropdown">
                                        <button class="member-dropdown-item">Assign as a Co-Owner</button>
                                        <button class="member-dropdown-item">Remove Jim Mosher</button>
                                    </div>
                                </div>
                            </div>

                            <div style="display: flex; align-items: center; justify-content: space-between; padding: 12px 16px; background: var(--white); border-radius: 6px; box-shadow: 0 1px 3px rgba(0,0,0,0.08);">
                                <div style="display: flex; align-items: center; gap: 12px;">
                                    <div style="width: 40px; height: 40px; border-radius: 50%; background: var(--gray10); display: flex; align-items: center; justify-content: center; overflow: hidden;">
                                        <img src="../person-page/female.png" style="width: 100%; height: 100%; object-fit: cover;" alt="P Kehrer">
                                    </div>
                                    <div>
                                        <div style="font-size: 15px; font-weight: 500; color: var(--gray90);">P Kehrer</div>
                                    </div>
                                </div>
                                <div class="member-actions">
                                    <button class="member-menu-btn" onclick="toggleMemberMenu(event, 'p-menu')" style="background: none; border: none; cursor: pointer; padding: 8px; color: var(--gray60);">
                                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"/></svg>
                                    </button>
                                    <div id="p-menu" class="member-dropdown">
                                        <button class="member-dropdown-item">Assign as a Co-Owner</button>
                                        <button class="member-dropdown-item">Remove P Kehrer</button>
                                    </div>
                                </div>
                            </div>

                            <button class="btn btn-secondary" style="margin-top: 16px; align-self: flex-start;">
                                <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M16 11c1.66 0 2.99-1.34 2.99-3S17.66 5 16 5c-1.66 0-3 1.34-3 3s1.34 3 3 3zm-8 0c1.66 0 2.99-1.34 2.99-3S9.66 5 8 5C6.34 5 5 6.34 5 8s1.34 3 3 3zm0 2c-2.33 0-7 1.17-7 3.5V19h14v-2.5c0-2.33-4.67-3.5-7-3.5zm8 0c-.29 0-.62.02-.97.05 1.16.84 1.97 1.97 1.97 3.45V19h6v-2.5c0-2.33-4.67-3.5-7-3.5z"/></svg>
                                Invite
                            </button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Delete Tree Panel -->
            <div id="deleteTree" class="content-panel">
                <h2 class="panel-title">Delete Tree?</h2>
                
                <div class="warning-box">
                    <div class="warning-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z"/></svg>
                        Warning: This action cannot be undone
                    </div>
                    <div class="warning-content">
                        Deleting your tree will permanently remove all people, photos, stories, hints, and sources. You will lose 1,247 individuals and all associated data.
                    </div>
                </div>

                <h3 style="font-size: 16px; font-weight: 600; margin: 24px 0 16px;">Before you delete, consider these alternatives:</h3>

                <div class="info-card" style="border-left-color: var(--green40); margin-bottom: 16px;">
                    <div class="info-card-title">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="currentColor"><path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/></svg>
                        Upload & merge Gedcom instead
                    </div>
                    <div class="info-card-content">
                        If you have an updated GEDCOM file, you can merge it with your existing tree without losing hints and sources.
                    </div>
                </div>

                <div style="margin-top: 24px;">
                    <div class="checkbox-group">
                        <input type="checkbox" id="confirm-delete" />
                        <label class="checkbox-label" for="confirm-delete">
                            I understand this will permanently delete 1,247 individuals and cannot be undone
                        </label>
                    </div>
                </div>

                <div class="panel-actions" style="justify-content: flex-start;">
                    <button class="btn btn-primary btn-danger" id="delete-btn" disabled>Delete Tree</button>
                </div>
            </div>
        </main>
        </div>
    </div>

    <!-- Loading Spinner Overlay -->
    <div id="loadingOverlay" class="loading-overlay">
        <div style="display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; gap: 20px;">
            <div class="spinner"></div>
            <div style="color: white; font-size: 16px; font-weight: 500;">Analyzing GEDCOM changes...</div>
            <div style="color: rgba(255, 255, 255, 0.8); font-size: 14px;">This will take up to a minute</div>
        </div>
    </div>

    <!-- Status Overlay / Toast -->
    <div id="statusOverlay" class="status-overlay">
        <svg class="status-overlay-icon" viewBox="0 0 24 24" fill="currentColor">
            <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" fill="white"/>
        </svg>
        <span id="statusOverlayMessage"></span>
    </div>

    <!-- Delete Confirmation Modal -->
    <div id="deleteModal" class="delete-modal">
        <div class="delete-modal-content">
            <div class="delete-modal-title">Delete Tree?</div>
            <div class="delete-modal-text">
                Are you sure you want to delete this tree? This will permanently remove 1,247 individuals and all associated data.
            </div>
            <div class="delete-modal-text">
                If you want to update your tree instead, consider <a href="#updateGedcom" onclick="closeDeleteModal(); showPanel('updateGedcom'); return false;" style="color: var(--blue60); font-weight: 500; text-decoration: none;">re-uploading your GEDCOM file</a>.
            </div>
            <div class="delete-modal-actions">
                <button class="btn btn-secondary" onclick="closeDeleteModal()">Cancel</button>
                <button class="btn btn-danger" onclick="confirmDelete()">Delete Tree</button>
            </div>
        </div>
    </div>

    <script>
        // Store initial tree details values
        const treeNameInput = document.getElementById('tree-name');
        const treeDescriptionInput = document.getElementById('tree-description');
        const treeDetailsSaveBtn = document.getElementById('tree-details-save-btn');

        let initialTreeName = treeNameInput ? treeNameInput.value : '';
        let initialTreeDescription = treeDescriptionInput ? treeDescriptionInput.value : '';

        function checkTreeDetailsChanges() {
            if (treeDetailsSaveBtn) {
                const nameChanged = treeNameInput.value !== initialTreeName;
                const descriptionChanged = treeDescriptionInput.value !== initialTreeDescription;
                treeDetailsSaveBtn.disabled = !(nameChanged || descriptionChanged);
            }
        }

        if (treeNameInput) {
            treeNameInput.addEventListener('input', checkTreeDetailsChanges);
        }

        if (treeDescriptionInput) {
            treeDescriptionInput.addEventListener('input', checkTreeDetailsChanges);
        }

        // Store initial privacy setting
        const privacyRadios = document.querySelectorAll('input[name="privacy-setting"]');
        let initialPrivacySetting = null;
        privacyRadios.forEach(radio => {
            if (radio.checked) {
                initialPrivacySetting = radio.value;
            }
            radio.addEventListener('change', function() {
                const saveButton = document.getElementById('privacy-save-btn');
                if (saveButton) {
                    // Enable save button only if the setting has changed from initial value
                    saveButton.disabled = (this.value === initialPrivacySetting);
                }
            });
        });

        // Preferred Tree toggle handler
        const preferredTreeToggle = document.getElementById('preferred-tree');
        if (preferredTreeToggle) {
            preferredTreeToggle.addEventListener('change', function() {
                if (this.checked) {
                    showStatusOverlay('House of Windsor is now your preferred tree');
                } else {
                    showStatusOverlay('FamilySearch Tree is now your preferred tree');
                }
            });
        }

        // Status Overlay / Toast
        function showStatusOverlay(message) {
            const overlay = document.getElementById('statusOverlay');
            const messageEl = document.getElementById('statusOverlayMessage');
            
            messageEl.textContent = message;
            overlay.classList.add('show');
            
            // Auto-hide after 4 seconds
            setTimeout(() => {
                overlay.classList.remove('show');
            }, 4000);
        }

        // Show/hide panels
        function showPanel(panelId) {
            // Hide all panels
            document.querySelectorAll('.content-panel').forEach(panel => {
                panel.classList.remove('active');
            });
            
            // Remove active class from all menu items
            document.querySelectorAll('.settings-menu-item').forEach(item => {
                item.classList.remove('active');
            });
            
            // Show selected panel
            document.getElementById(panelId).classList.add('active');
            
            // Add active class to clicked menu item
            event.target.closest('.settings-menu-item').classList.add('active');
        }

        // Enable save button on form change
        document.querySelectorAll('.form-input, input[type="checkbox"]').forEach(element => {
            element.addEventListener('input', function() {
                const saveButton = document.querySelector('button[type="submit"]');
                if (saveButton) {
                    saveButton.disabled = false;
                }
            });
        });

        function simulateFileUpload() {
            const uploadZone = document.getElementById('upload-zone');
            const continueBtn = document.getElementById('upload-continue-btn');
            
            // Update the upload zone to show uploaded file
            uploadZone.innerHTML = `
                <svg style="width: 48px; height: 48px; color: var(--green50); margin-bottom: 8px;" viewBox="0 0 24 24" fill="currentColor">
                    <path d="M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z"/>
                </svg>
                <div style="font-weight: 600; color: var(--gray90); margin-bottom: 4px;">windsor-family-tree-2026.ged</div>
                <div style="font-size: 13px; color: var(--gray60);">2.4 MB • Uploaded successfully</div>
            `;
            uploadZone.style.cursor = 'default';
            uploadZone.onclick = null;
            
            // Enable the Continue button
            continueBtn.disabled = false;
        }

        function showMergePreview() {
            document.getElementById('loadingOverlay').classList.add('active');
            
            setTimeout(() => {
                document.getElementById('loadingOverlay').classList.remove('active');
                showPanel('mergePreview');
            }, 3000);
        }

        function toggleDiffSection(header) {
            const content = header.nextElementSibling;
            const chevron = header.querySelector('.chevron');
            if (content.style.display === 'none' || content.style.display === '') {
                content.style.display = 'block';
                chevron.style.transform = 'rotate(180deg)';
            } else {
                content.style.display = 'none';
                chevron.style.transform = 'rotate(0deg)';
            }
        }

        // Collapsible functionality
        function toggleCollapsible(header) {
            const section = header.parentElement;
            section.classList.toggle('expanded');
        }

        // Delete confirmation checkbox
        const confirmDeleteCheckbox = document.getElementById('confirm-delete');
        if (confirmDeleteCheckbox) {
            confirmDeleteCheckbox.addEventListener('change', function() {
                document.getElementById('delete-btn').disabled = !this.checked;
            });
        }

        // Handle hash navigation on page load
        window.addEventListener('DOMContentLoaded', function() {
            const hash = window.location.hash.substring(1); // Remove the # character
            if (hash) {
                const panel = document.getElementById(hash);
                if (panel) {
                    // Hide all panels
                    document.querySelectorAll('.content-panel').forEach(p => {
                        p.classList.remove('active');
                    });
                    
                    // Remove active class from all menu items
                    document.querySelectorAll('.settings-menu-item').forEach(item => {
                        item.classList.remove('active');
                    });
                    
                    // Show the target panel
                    panel.classList.add('active');
                    
                    // Activate the corresponding menu item
                    const menuItem = document.querySelector(`[onclick*="showPanel('${hash}')"]`);
                    if (menuItem) {
                        menuItem.classList.add('active');
                    }
                }
            }
        });

        // Toggle member dropdown menu
        function toggleMemberMenu(event, menuId) {
            event.stopPropagation();

            // Close all other dropdowns
            document.querySelectorAll('.member-dropdown').forEach(dropdown => {
                if (dropdown.id !== menuId) {
                    dropdown.classList.remove('show');
                }
            });

            // Toggle the clicked dropdown
            const menu = document.getElementById(menuId);
            menu.classList.toggle('show');
        }

        // Close dropdowns when clicking outside
        document.addEventListener('click', function(event) {
            if (!event.target.closest('.member-actions')) {
                document.querySelectorAll('.member-dropdown').forEach(dropdown => {
                    dropdown.classList.remove('show');
                });
            }
        });

        // Delete Modal Functions
        function showDeleteModal() {
            document.getElementById('deleteModal').classList.add('show');
        }

        function closeDeleteModal() {
            document.getElementById('deleteModal').classList.remove('show');
        }

        function confirmDelete() {
            // Handle actual deletion here
            alert('Tree deleted successfully');
            closeDeleteModal();
        }

        // Close modal when clicking outside
        document.getElementById('deleteModal').addEventListener('click', function(event) {
            if (event.target === this) {
                closeDeleteModal();
            }
        });
    </script>
</body>
</html>
